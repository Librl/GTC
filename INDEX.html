<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Guess the Card</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #ffffff; /* static white background */
  color: black;
  display: flex;
  justify-content: center;
  margin-top: 40px;
}

.container {
  width: 460px;
}

input {
  width: 100%;
  padding: 10px;
  font-size: 16px;
}

button {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  background: #6aaa64; /* green try again button */
  color: white;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

button.secondary {
  background: #6aaa64; /* always green */
}

.grid {
  margin-top: 20px;
}

.row {
  display: grid;
  grid-template-columns: 1.8fr 1fr 1.4fr;
  gap: 8px;
  margin-bottom: 8px;
}

.cell {
  padding: 10px;
  text-align: center;
  font-weight: bold;
  border-radius: 4px;
  font-size: 14px;
  color: white;
}

.correct { background: #6aaa64; }
.partial { background: #c9b458; color: black; }
.wrong-suit { background: #a11b1b; }

.message {
  margin-top: 15px;
  text-align: center;
  font-size: 18px;
}
</style>
</head>

<body>
<div class="container">
  <h2>Guess the Card</h2>

  <input id="guessInput" list="cardList" placeholder="Type a card name">
  <datalist id="cardList"></datalist>

  <button id="guessBtn">Guess</button>

  <div class="grid" id="grid"></div>

  <div class="message" id="message"></div>
  <button id="restartBtn" class="secondary" style="display:none;">Try Again</button>
</div>

<script>
// ---------- SUIT COLORS ----------
const suitColors = {
  A: "#302f2c", B: "#f05907", C: "#48a140", D: "#42215e",
  E: "#ba321a", F: "#292994", G: "#693123", H: "#7a1f8f",
  I: "#e6c317", J: "#2a5759", K: "#737a7a", L: "#4ca4c2",
  M: "#bac7cc", N: "#9b6cff"
};

// ---------- CARD LIST ----------
const cards = [
  { name: "Knights", suit: "A", strength: 20 },
  { name: "Elven Archers", suit: "A", strength: 10 },
  { name: "Light Cavalry", suit: "A", strength: 17 },
  { name: "Dwarvish Infantry", suit: "A", strength: 15 },
  { name: "Rangers", suit: "A", strength: 5 },

  { name: "Shield of Keth", suit: "B", strength: 4 },
  { name: "Gem of Order", suit: "B", strength: 5 },
  { name: "Book of Changes", suit: "B", strength: 3 },
  { name: "Protection Rune", suit: "B", strength: 1 },
  { name: "World Tree", suit: "B", strength: 2 },

  { name: "Unicorn", suit: "C", strength: 9 },
  { name: "Basilisk", suit: "C", strength: 35 },
  { name: "Warhorse", suit: "C", strength: 6 },
  { name: "Dragon", suit: "C", strength: 30 },
  { name: "Hydra", suit: "C", strength: 12 },
  { name: "Phoenix", suit: "C", strength: 14 },

  { name: "Dungeon", suit: "D", strength: 7 },
  { name: "Castle", suit: "D", strength: 10 },
  { name: "Crypt", suit: "D", strength: 21 },
  { name: "Chapel", suit: "D", strength: 2 },
  { name: "Bell Tower", suit: "D", strength: 8 },

  { name: "Doppelganger", suit: "M", strength: 0 }
];

// ---------- DOM ----------
const input = document.getElementById("guessInput");
const button = document.getElementById("guessBtn");
const grid = document.getElementById("grid");
const message = document.getElementById("message");
const datalist = document.getElementById("cardList");
const restartBtn = document.getElementById("restartBtn");

// autocomplete
cards.forEach(card => {
  const option = document.createElement("option");
  option.value = card.name;
  datalist.appendChild(option);
});

let target, guesses;
const MAX_GUESSES = 6;

function startGame() {
  target = cards[Math.floor(Math.random() * cards.length)];
  guesses = 0;
  grid.innerHTML = "";
  message.textContent = "";
  restartBtn.style.display = "none";
  button.disabled = false;
  document.body.style.background = "#ffffff"; // static white background
}

startGame();

// ---------- GAME LOOP ----------
button.onclick = () => {
  const guess = cards.find(c => c.name.toLowerCase() === input.value.trim().toLowerCase());
  if (!guess || guesses >= MAX_GUESSES) return;

  guesses++;

  const row = document.createElement("div");
  row.className = "row";

  // Card name + strength
  const nameCell = document.createElement("div");
  nameCell.className = "cell";
  nameCell.textContent = `${guess.name} (${guess.strength})`;
  nameCell.style.background = suitColors[guess.suit];

  // Suit feedback
  const suitCell = document.createElement("div");
  if (guess.suit === target.suit) {
    suitCell.className = "cell correct";
    suitCell.textContent = "‚úîÔ∏è";
  } else {
    suitCell.className = "cell wrong-suit";
    suitCell.textContent = "‚úñÔ∏è";
  }

  // Strength feedback
  const strengthCell = document.createElement("div");
  if (guess.strength === target.strength) {
    strengthCell.className = "cell correct";
    strengthCell.textContent = "‚úîÔ∏è";
  } else if (guess.strength < target.strength) {
    strengthCell.className = "cell partial";
    strengthCell.textContent = "‚¨ÜÔ∏è Higher";
  } else {
    strengthCell.className = "cell partial";
    strengthCell.textContent = "‚¨áÔ∏è Lower";
  }

  row.append(nameCell, suitCell, strengthCell);
  grid.appendChild(row);
  input.value = "";

  if (guess === target || guesses === MAX_GUESSES) {
    message.textContent = guess === target
      ? "üéâ You guessed the card!"
      : `üíÄ It was ${target.name} (${target.strength})`;
    button.disabled = true;
    restartBtn.style.display = "block";
  }
};

// restart button
restartBtn.onclick = startGame;
</script>
</body>
</html>
