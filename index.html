<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Guess the Card</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: white;
  color: black;
  display: flex;
  justify-content: center;
  margin-top: 40px;
}

.container {
  width: 720px;
}

input {
  width: 100%;
  padding: 10px;
  font-size: 16px;
}

button {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  background: #6aaa64;
  color: white;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

.options {
  margin-top: 10px;
  text-align: center;
}

.type-toggle {
  font-weight: bold;
  cursor: pointer;
}

.legend {
  margin-top: 6px;
  cursor: pointer;
  user-select: none;
  font-weight: bold;
}

.legend span {
  display: none;
  font-size: 13px;
  margin-top: 4px;
  color: #333;
  font-weight: normal;
}

.legend.open span {
  display: block;
}

.grid {
  margin-top: 20px;
}

.row {
  display: grid;
  gap: 8px;
  margin-bottom: 8px;
}

.cell {
  padding: 10px;
  text-align: center;
  font-weight: bold;
  border-radius: 4px;
  font-size: 14px;
  color: white;
}

.correct { background: #6aaa64; }
.partial { background: #c9b458; color: black; }
.wrong { background: #a11b1b; }

.message {
  margin-top: 15px;
  text-align: center;
  font-size: 18px;
}
</style>
</head>

<body>
<div class="container">
  <h2>Guess the Card</h2>

  <input id="guessInput" list="cardList" placeholder="Type a card name">
  <datalist id="cardList"></datalist>

  <button id="guessBtn">Guess</button>

  <div class="options">
    <label id="typeToggleWrapper" class="type-toggle">
      <input type="checkbox" id="typeToggle" checked>
      Type
    </label>

    <div id="legend" class="legend">
      Type?
      <span>
        Bonus / Penalty / Neither<br>
        A card may belong to more than one
      </span>
    </div>
  </div>

  <div class="grid" id="grid"></div>

  <div class="message" id="message"></div>
  <button id="restartBtn" style="display:none;">Try Again</button>
</div>

<script>
// ---------- SUIT COLORS ----------
const suitColors = {
  Army:"#302f2c", Artifact:"#f05907", Beast:"#48a140",
  Building:"#42215e", Flame:"#ba321a", Flood:"#292994",
  Land:"#693123", Leader:"#7a1f8f", Outsider:"#e6c317",
  Undead:"#2a5759", Weapon:"#737a7a", Weather:"#4ca4c2",
  Wild:"#bac7cc", Wizard:"#9b6cff"
};

// ---------- CARD LIST ----------
const cards = [
  // Army
  {name:"Dwarvish Infantry", suits:["Army"], strength:15, categories:["Penalty"]},
  {name:"Rangers", suits:["Army"], strength:5, categories:["Bonus"]},
  {name:"Light Cavalry", suits:["Army"], strength:17, categories:["Penalty"]},
  {name:"Elven Archers", suits:["Army"], strength:10, categories:["Bonus"]},
  {name:"Knights", suits:["Army"], strength:20, categories:["Penalty"]},

  // Artifact
  {name:"Shield of Keth", suits:["Artifact"], strength:4, categories:["Bonus"]},
  {name:"World Tree", suits:["Artifact"], strength:2, categories:["Bonus"]},
  {name:"Protection Rune", suits:["Artifact"], strength:1, categories:["None"]},
  {name:"Book of Changes", suits:["Artifact"], strength:3, categories:["Bonus"]},
  {name:"Gem of Order", suits:["Artifact"], strength:5, categories:["Bonus"]},
  // Beast / Multi-suit Phoenix
  {name:"Phoenix", suits:["Beast","Flame","Weather"], strength:14, categories:["Penalty","Bonus"]},
  {name:"Hydra", suits:["Beast"], strength:12, categories:["Bonus"]},
  {name:"Warhorse", suits:["Beast"], strength:6, categories:["Bonus"]},
  {name:"Unicorn", suits:["Beast"], strength:9, categories:["Bonus"]},
  {name:"Basilisk", suits:["Beast"], strength:35, categories:["Penalty"]},
  {name:"Dragon", suits:["Beast"], strength:30, categories:["None"]},

  // Building
  {name:"Castle", suits:["Building"], strength:10, categories:["Bonus"]},
  {name:"Crypt", suits:["Building"], strength:21, categories:["Penalty","Bonus"]},
  {name:"Chapel", suits:["Building"], strength:2, categories:["Bonus"]},
  {name:"Dungeon", suits:["Building"], strength:7, categories:["Bonus"]},
  {name:"Bell Tower", suits:["Building"], strength:8, categories:["Bonus"]},

  // Flame
  {name:"Wildfire", suits:["Flame"], strength:40, categories:["Penalty"]},
  {name:"Lightning", suits:["Flame"], strength:11, categories:["Bonus"]},
  {name:"Fire Elemental", suits:["Flame"], strength:4, categories:["Bonus"]},
  {name:"Forge", suits:["Flame"], strength:9, categories:["Bonus"]},
  {name:"Candle", suits:["Flame"], strength:2, categories:["Bonus"]},

  // Flood
  {name:"Swamp", suits:["Flood"], strength:18, categories:["Penalty"]},
  {name:"Island", suits:["Flood"], strength:14, categories:["Bonus"]},
  {name:"Water Elemental", suits:["Flood"], strength:4, categories:["Bonus"]},
  {name:"Fountain of Life", suits:["Flood"], strength:1, categories:["Bonus"]},
  {name:"Great Flood", suits:["Flood"], strength:32, categories:["Penalty"]},

  // Land
  {name:"Mountain", suits:["Land"], strength:9, categories:["Bonus"]},
  {name:"Forest", suits:["Land"], strength:7, categories:["Bonus"]},
  {name:"Earth Elemental", suits:["Land"], strength:4, categories:["Bonus"]},
  {name:"Cavern", suits:["Land"], strength:6, categories:["Bonus"]},
  {name:"Garden", suits:["Land"], strength:11, categories:["Penalty","Bonus"]},

  // Leader
  {name:"Princess", suits:["Leader"], strength:2, categories:["Bonus"]},
  {name:"Warlord", suits:["Leader"], strength:4, categories:["Bonus"]},
  {name:"Queen", suits:["Leader"], strength:6, categories:["Bonus"]},
  {name:"King", suits:["Leader"], strength:8, categories:["Bonus"]},
  {name:"Empress", suits:["Leader"], strength:15, categories:["Penalty","Bonus"]},

  // Outsider
  {name:"Angel", suits:["Outsider"], strength:16, categories:["Bonus"]},
  {name:"Leprechaun", suits:["Outsider"], strength:20, categories:["Bonus"]},
  {name:"Judge", suits:["Outsider"], strength:11, categories:["Bonus"]},
  {name:"Demon", suits:["Outsider"], strength:45, categories:["Penalty"]},

  // Undead
  {name:"Lich", suits:["Undead"], strength:13, categories:["Bonus"]},
  {name:"Dark Queen", suits:["Undead"], strength:10, categories:["Bonus"]},
  {name:"Specter", suits:["Undead"], strength:12, categories:["Bonus"]},
  {name:"Ghoul", suits:["Undead"], strength:8, categories:["Bonus"]},
  {name:"Death Knight", suits:["Undead"], strength:14, categories:["Bonus"]},

  // Weapon
  {name:"Elven Longbow", suits:["Weapon"], strength:3, categories:["Bonus"]},
  {name:"War Dirigible", suits:["Weapon"], strength:35, categories:["Penalty"]},
  {name:"Warship", suits:["Weapon"], strength:23, categories:["Penalty"]},
  {name:"Magic Wand", suits:["Weapon"], strength:1, categories:["Bonus"]},
  {name:"Sword of Keth", suits:["Weapon"], strength:7, categories:["Bonus"]},

  // Weather
  {name:"Whirlwind", suits:["Weather"], strength:13, categories:["Bonus"]},
  {name:"Blizzard", suits:["Weather"], strength:30, categories:["Penalty"]},
  {name:"Air Elemental", suits:["Weather"], strength:4, categories:["Bonus"]},
  {name:"Smoke", suits:["Weather"], strength:27, categories:["Penalty"]},
  {name:"Rainstorm", suits:["Weather"], strength:8, categories:["Penalty","Bonus"]},

  // Wild
  {name:"Mirage", suits:["Wild"], strength:0, categories:["Bonus"]},
  {name:"Shapeshifter", suits:["Wild"], strength:0, categories:["Bonus"]},
  {name:"Doppelganger", suits:["Wild"], strength:0, categories:["None"]},

  // Wizard
  {name:"Jester", suits:["Wizard"], strength:3, categories:["Bonus"]},
  {name:"Enchantress", suits:["Wizard"], strength:5, categories:["Bonus"]},
  {name:"Collector", suits:["Wizard"], strength:7, categories:["Bonus"]},
  {name:"Beastmaster", suits:["Wizard"], strength:9, categories:["Bonus"]},
  {name:"Necromancer", suits:["Wizard"], strength:3, categories:["Bonus"]},
  {name:"Warlock Lord", suits:["Wizard"], strength:25, categories:["Penalty"]}
];

// ---------- SETUP ----------
const input = document.getElementById("guessInput");
const grid = document.getElementById("grid");
const button = document.getElementById("guessBtn");
const message = document.getElementById("message");
const datalist = document.getElementById("cardList");
const restartBtn = document.getElementById("restartBtn");
const typeToggle = document.getElementById("typeToggle");
const typeToggleWrapper = document.getElementById("typeToggleWrapper");
const legend = document.getElementById("legend");

cards.forEach(card => {
  const opt = document.createElement("option");
  opt.value = card.name;
  datalist.appendChild(opt);
});

legend.onclick = () => legend.classList.toggle("open");

let target, guesses = 0;
const MAX_GUESSES = 6;

function startGame() {
  target = cards[Math.floor(Math.random() * cards.length)];
  guesses = 0;
  grid.innerHTML = "";
  message.textContent = "";
  restartBtn.style.display = "none";
  button.disabled = false;
  input.value = "";
  typeToggleWrapper.style.display = "block";
}

startGame();

// ---------- GUESS ----------
function handleGuess() {
  const raw = input.value.trim().toLowerCase();
  if (!raw) return;

  const guess = cards.find(c => c.name.toLowerCase() === raw);
  if (!guess) {
    message.textContent = "‚ùå Card not found.";
    return;
  }

  guesses++;
  typeToggleWrapper.style.display = "none";

  const showType = typeToggle.checked;

  const row = document.createElement("div");
  row.className = "row";
  row.style.gridTemplateColumns = showType
    ? "2.6fr 1.3fr 1.6fr 1.6fr"
    : "2.6fr 1.3fr 1.6fr";

  const nameCell = document.createElement("div");
  nameCell.className = "cell";
  nameCell.textContent = `${guess.name} (${guess.strength})`;
  nameCell.style.background = suitColors[guess.suits[0]];

  const suitCell = document.createElement("div");
  const suitMatch = guess.suits.some(s => target.suits.includes(s));
  suitCell.className = "cell " + (suitMatch ? "correct" : "wrong");
  suitCell.textContent = suitMatch ? "Suit ‚úîÔ∏è" : "Suit ‚úñÔ∏è";

  row.append(nameCell, suitCell);

  if (showType) {
    const typeCell = document.createElement("div");
    const typeMatch = guess.categories.some(c => target.categories.includes(c));
    typeCell.className = "cell " + (typeMatch ? "correct" : "wrong");
    typeCell.textContent = typeMatch ? "Type ‚úîÔ∏è" : "Type ‚úñÔ∏è";
    row.append(typeCell);
  }

  const strengthCell = document.createElement("div");
  if (guess.strength === target.strength) {
    strengthCell.className = "cell correct";
    strengthCell.textContent = "‚úîÔ∏è";
  } else {
    strengthCell.className = "cell partial";
    strengthCell.textContent =
      guess.strength < target.strength ? "‚¨ÜÔ∏è Strength" : "‚¨áÔ∏è Strength";
  }

  row.append(strengthCell);
  grid.appendChild(row);

  input.value = "";

  if (guess === target || guesses === MAX_GUESSES) {
    message.textContent =
      guess === target
        ? "üéâ You guessed the card!"
        : `üíÄ It was ${target.name} (${target.strength})`;
    button.disabled = true;
    restartBtn.style.display = "block";
  }
}

button.onclick = handleGuess;
input.addEventListener("keydown", e => {
  if (e.key === "Enter") handleGuess();
});
restartBtn.onclick = startGame;
</script>
</body>
</html>





